{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../dashboard.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/userback.service\";\nimport * as i4 from \"@angular/common\";\nfunction TopBarComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TopBarComponent_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.editP());\n    });\n    i0.ɵɵtext(2, \" Edit profile \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TopBarComponent_div_10_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵtext(4, \" Logout \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class TopBarComponent {\n  constructor(dashboard, router, userbackService) {\n    this.dashboard = dashboard;\n    this.router = router;\n    this.userbackService = userbackService;\n    this.isDropdownOpen = false;\n    this.sidebarOpen = true; // Initially open\n  }\n\n  openSidebar() {\n    this.dashboard.openSidebar();\n  }\n  toggleDropdown() {\n    this.isDropdownOpen = !this.isDropdownOpen;\n  }\n  logout() {\n    this.userbackService.logout().subscribe(response => {\n      console.log('Logout successful', response);\n      // Clear the token from localStorage\n      localStorage.removeItem('authToken');\n      // Navigate to the login page after successful logout\n      this.router.navigate(['/admin/login']);\n    }, error => {\n      console.error('Logout failed', error);\n      // Handle logout error here\n    });\n  }\n\n  editP() {\n    this.router.navigate(['/admin/editP']);\n  }\n}\nTopBarComponent.ɵfac = function TopBarComponent_Factory(t) {\n  return new (t || TopBarComponent)(i0.ɵɵdirectiveInject(i1.DashboardService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserbackService));\n};\nTopBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TopBarComponent,\n  selectors: [[\"top-bar\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[1, \"relative\", \"z-10\", \"h-20\", \"items-center\"], [1, \"relative\", \"z-10\", \"mx-auto\", \"flex\", \"h-full\", \"flex-col\", \"justify-center\", \"px-3\", \"text-black\"], [1, \"relative\", \"flex\", \"w-full\", \"items-center\", \"pl-1\", \"sm:ml-0\", \"sm:pr-2\"], [1, \"group\", \"relative\", \"flex\", \"h-full\", \"w-12\", \"items-center\"], [\"type\", \"button\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle sidebar\", 1, \"text-4xl\", \"text-black\", \"focus:outline-none\", 3, \"click\"], [1, \"relative\", \"ml-5\", \"flex\", \"w-full\", \"items-center\", \"justify-end\", \"p-1\", \"sm:right-auto\", \"sm:mr-0\"], [1, \"relative\"], [\"href\", \"#\", 1, \"block\", 3, \"click\"], [\"alt\", \"User Profile\", \"src\", \"./assets/images/1.jpg\", 1, \"mx-auto\", \"h-10\", \"w-10\", \"rounded-full\", \"object-cover\"], [\"class\", \"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded shadow-lg z-20\", 4, \"ngIf\"], [1, \"absolute\", \"right-0\", \"mt-2\", \"w-48\", \"bg-white\", \"border\", \"border-gray-300\", \"rounded\", \"shadow-lg\", \"z-20\"], [1, \"block\", \"w-full\", \"px-4\", \"py-2\", \"text-left\", \"text-gray-700\", \"hover:bg-gray-100\", 3, \"click\"]],\n  template: function TopBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function TopBarComponent_Template_button_click_4_listener() {\n        return ctx.openSidebar();\n      });\n      i0.ɵɵtext(5, \" \\u2261 \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"a\", 7);\n      i0.ɵɵlistener(\"click\", function TopBarComponent_Template_a_click_8_listener() {\n        return ctx.toggleDropdown();\n      });\n      i0.ɵɵelement(9, \"img\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, TopBarComponent_div_10_Template, 5, 0, \"div\", 9);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.isDropdownOpen);\n    }\n  },\n  dependencies: [i4.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","TopBarComponent_div_10_Template_button_click_1_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","editP","ɵɵtext","ɵɵelementEnd","TopBarComponent_div_10_Template_button_click_3_listener","ctx_r3","logout","TopBarComponent","constructor","dashboard","router","userbackService","isDropdownOpen","sidebarOpen","openSidebar","toggleDropdown","subscribe","response","console","log","localStorage","removeItem","navigate","error","ɵɵdirectiveInject","i1","DashboardService","i2","Router","i3","UserbackService","selectors","decls","vars","consts","template","TopBarComponent_Template","rf","ctx","TopBarComponent_Template_button_click_4_listener","TopBarComponent_Template_a_click_8_listener","ɵɵelement","ɵɵtemplate","TopBarComponent_div_10_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\dashboard\\top-bar\\top-bar.component.ts","C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\dashboard\\top-bar\\top-bar.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { DashboardService } from \"../dashboard.service\";\r\nimport { Router } from '@angular/router';\r\nimport { UserbackService } from 'src/app/services/userback.service';\r\n@Component({\r\n  selector: 'top-bar',\r\n  templateUrl: './top-bar.component.html',\r\n})\r\nexport class TopBarComponent {\r\n  isDropdownOpen = false;\r\n  sidebarOpen: boolean = true; // Initially open\r\n  constructor(private dashboard: DashboardService, private router: Router, private userbackService: UserbackService) {}\r\n\r\n  openSidebar() {\r\n    this.dashboard.openSidebar();\r\n  }\r\n\r\n  toggleDropdown() {\r\n    this.isDropdownOpen = !this.isDropdownOpen;\r\n  }\r\n\r\n  logout() {\r\n    this.userbackService.logout().subscribe(\r\n      (response: any) => { // Specify the type of response\r\n        console.log('Logout successful', response);\r\n        \r\n        // Clear the token from localStorage\r\n        localStorage.removeItem('authToken');\r\n\r\n        // Navigate to the login page after successful logout\r\n        this.router.navigate(['/admin/login']); \r\n      },\r\n      (error: any) => { // Specify the type of error\r\n        console.error('Logout failed', error);\r\n        // Handle logout error here\r\n      }\r\n    );\r\n  }\r\n\r\n  editP(){\r\n    this.router.navigate(['/admin/editP']); \r\n\r\n  }\r\n}\r\n","<header class=\"relative z-10 h-20 items-center\">\r\n  <div class=\"relative z-10 mx-auto flex h-full flex-col justify-center px-3 text-black\">\r\n    <div class=\"relative flex w-full items-center pl-1 sm:ml-0 sm:pr-2\">\r\n      <div class=\"group relative flex h-full w-12 items-center\">\r\n        <button\r\n          type=\"button\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle sidebar\"\r\n          class=\"text-4xl text-black focus:outline-none\"\r\n          (click)=\"openSidebar()\"\r\n        >\r\n          &#8801;\r\n        </button>\r\n      </div>\r\n     \r\n      <div class=\"relative ml-5 flex w-full items-center justify-end p-1 sm:right-auto sm:mr-0\">\r\n     \r\n\r\n        <div class=\"relative\">\r\n          <a href=\"#\" class=\"block\" (click)=\"toggleDropdown()\">\r\n            <img\r\n              alt=\"User Profile\"\r\n              src=\"./assets/images/1.jpg\"\r\n              class=\"mx-auto h-10 w-10 rounded-full object-cover\"\r\n            />\r\n          </a>\r\n          <div\r\n            *ngIf=\"isDropdownOpen\"\r\n            class=\"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded shadow-lg z-20\"\r\n          >\r\n          <button\r\n          (click)=\"editP()\"\r\n          class=\"block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100\"\r\n        >\r\n          Edit profile\r\n        </button>\r\n            <button\r\n              (click)=\"logout()\"\r\n              class=\"block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}