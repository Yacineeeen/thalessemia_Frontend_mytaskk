{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/visite.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ListeVisiteByIDComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ListeVisiteByIDComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" No visits found for this patient. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListeVisiteByIDComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No data found for this patient.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListeVisiteByIDComponent_table_9_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const visite_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r5.nbVisite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r5.userId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r5.dateVisite);\n  }\n}\nfunction ListeVisiteByIDComponent_table_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"N\\u00B0 Visite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"M\\u00E9decin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Date visite\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, ListeVisiteByIDComponent_table_9_tr_10_Template, 7, 3, \"tr\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.visites);\n  }\n}\nexport class ListeVisiteByIDComponent {\n  constructor(visiteService, route) {\n    this.visiteService = visiteService;\n    this.route = route;\n    this.visites = [];\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    const patientId = this.route.snapshot.paramMap.get('PatientId');\n    console.log('PatientId from route:', patientId); // Log the PatientId\n    if (patientId) {\n      this.getVisitesByPatientId(parseInt(patientId));\n    }\n  }\n  getVisitesByPatientId(patientId) {\n    this.visiteService.getById(patientId).subscribe(data => {\n      console.log('API Response:', data); // Log the data to see what is returned\n      this.visites = data;\n      console.log('Visites array:', this.visites); // Log the visites array\n    }, error => {\n      console.error('There was an error!', error);\n      this.errorMessage = 'An error occurred while fetching data.';\n    });\n  }\n}\nListeVisiteByIDComponent.ɵfac = function ListeVisiteByIDComponent_Factory(t) {\n  return new (t || ListeVisiteByIDComponent)(i0.ɵɵdirectiveInject(i1.VisiteService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nListeVisiteByIDComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListeVisiteByIDComponent,\n  selectors: [[\"app-liste-visite-by-id\"]],\n  decls: 10,\n  vars: 4,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [1, \"container\", \"d-flex\", \"justify-content-center\", \"align-items-center\", 2, \"min-height\", \"100vh\"], [1, \"row\"], [1, \"col-md-12\"], [4, \"ngIf\"], [\"class\", \"table\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-info\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ListeVisiteByIDComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Liste des visites\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ListeVisiteByIDComponent_div_2_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(3, ListeVisiteByIDComponent_div_3_Template, 2, 0, \"div\", 1);\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"div\");\n      i0.ɵɵtemplate(8, ListeVisiteByIDComponent_p_8_Template, 2, 0, \"p\", 5);\n      i0.ɵɵtemplate(9, ListeVisiteByIDComponent_table_9_Template, 11, 1, \"table\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.visites.length === 0 && !ctx.errorMessage);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.visites.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.visites.length > 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\"table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 20px;\\n  }\\n  \\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n    border: 1px solid #ddd;\\n    padding: 8px;\\n    text-align: center;\\n  }\\n  \\n  th[_ngcontent-%COMP%] {\\n    background-color: #f2f2f2;\\n  }\\n  \\n  tr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #f9f9f9;\\n  }\\n  \\n  tr[_ngcontent-%COMP%]:hover {\\n    background-color: #f1f1f1;\\n  }\\n  \\n  .table-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    overflow-x: auto;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbGlzdGUtdmlzaXRlLWJ5LWlkL2xpc3RlLXZpc2l0ZS1ieS1pZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLHlCQUF5QjtJQUN6QixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxnQkFBZ0I7RUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICB0aCwgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgdGgge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcclxuICB9XHJcbiAgXHJcbiAgdHI6bnRoLWNoaWxkKGV2ZW4pIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgfVxyXG4gIFxyXG4gIHRyOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XHJcbiAgfVxyXG4gIFxyXG4gIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\", \"h1[_ngcontent-%COMP%] {\\n        text-align: center;\\n        font-size: 36px;\\n        font-weight: bold;\\n        color: #2c3e50;\\n        margin-bottom: 30px;\\n        font-family: 'Arial', sans-serif;\\n        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n        border-bottom: 3px solid #3498db;\\n        padding-bottom: 10px;\\n        display: inline-block;\\n      }\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵtextInterpolate","visite_r5","nbVisite","userId","dateVisite","ɵɵtemplate","ListeVisiteByIDComponent_table_9_tr_10_Template","ɵɵproperty","ctx_r3","visites","ListeVisiteByIDComponent","constructor","visiteService","route","ngOnInit","patientId","snapshot","paramMap","get","console","log","getVisitesByPatientId","parseInt","getById","subscribe","data","error","ɵɵdirectiveInject","i1","VisiteService","i2","ActivatedRoute","selectors","decls","vars","consts","template","ListeVisiteByIDComponent_Template","rf","ctx","ListeVisiteByIDComponent_div_2_Template","ListeVisiteByIDComponent_div_3_Template","ListeVisiteByIDComponent_p_8_Template","ListeVisiteByIDComponent_table_9_Template","length"],"sources":["C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\pages\\liste-visite-by-id\\liste-visite-by-id.component.ts","C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\pages\\liste-visite-by-id\\liste-visite-by-id.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Visite } from 'src/app/models/Visite';\r\nimport { VisiteService } from 'src/app/services/visite.service';\r\n\r\n@Component({\r\n  selector: 'app-liste-visite-by-id',\r\n  templateUrl: './liste-visite-by-id.component.html',\r\n  styleUrls: ['./liste-visite-by-id.component.css']\r\n})\r\nexport class ListeVisiteByIDComponent {\r\n  visites: Visite[] = [];\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private visiteService: VisiteService, \r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    const patientId = this.route.snapshot.paramMap.get('PatientId');\r\n    console.log('PatientId from route:', patientId); // Log the PatientId\r\n  \r\n    if (patientId) {\r\n      this.getVisitesByPatientId(parseInt(patientId));\r\n    }\r\n  }\r\n    \r\n\r\n  getVisitesByPatientId(patientId: number): void {\r\n    this.visiteService.getById(patientId)\r\n      .subscribe(\r\n        data => {\r\n          console.log('API Response:', data); // Log the data to see what is returned\r\n          this.visites = data;\r\n          console.log('Visites array:', this.visites); // Log the visites array\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.error('There was an error!', error);\r\n          this.errorMessage = 'An error occurred while fetching data.';\r\n        }\r\n      );\r\n  }\r\n  \r\n}","\r\n<style>\r\n    h1 {\r\n        text-align: center;\r\n        font-size: 36px;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n        margin-bottom: 30px;\r\n        font-family: 'Arial', sans-serif;\r\n        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r\n        border-bottom: 3px solid #3498db;\r\n        padding-bottom: 10px;\r\n        display: inline-block;\r\n      }\r\n    </style>\r\n   <h1>Liste des visites</h1>\r\n\r\n   <div *ngIf=\"errorMessage\" class=\"alert alert-danger\">\r\n     {{ errorMessage }}\r\n   </div>\r\n   \r\n   <div *ngIf=\"visites.length === 0 && !errorMessage\" class=\"alert alert-info\">\r\n     No visits found for this patient.\r\n   </div>\r\n   \r\n   <div class=\"container d-flex justify-content-center align-items-center\" style=\"min-height: 100vh;\">\r\n     <div class=\"row\">\r\n       <div class=\"col-md-12\">\r\n        <div>\r\n            <p *ngIf=\"visites.length === 0\">No data found for this patient.</p>\r\n            \r\n            <table *ngIf=\"visites.length > 0\" class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>N° Visite</th>\r\n                  <th>Médecin</th>\r\n                  <th>Date visite</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let visite of visites\">\r\n                  <td>{{ visite.nbVisite }}</td>\r\n                  <td>{{ visite.userId }}</td>\r\n                  <td>{{ visite.dateVisite }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n       </div>\r\n     </div>\r\n   </div>\r\n   "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}