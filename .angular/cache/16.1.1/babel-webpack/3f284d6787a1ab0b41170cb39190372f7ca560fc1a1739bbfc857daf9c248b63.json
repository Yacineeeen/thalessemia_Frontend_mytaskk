{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/visite.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ListeVisiteByIDComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const visite_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r1.NbVisite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r1.UserId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(visite_r1.DateVisite);\n  }\n}\nexport class ListeVisiteByIDComponent {\n  constructor(vs, router, route) {\n    this.vs = vs;\n    this.router = router;\n    this.route = route;\n    this.visites = [];\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const PatientID = params.get('PatientID');\n      if (PatientID) {\n        const id = parseInt(PatientID, 10);\n        if (!isNaN(id)) {\n          this.getById(id);\n        } else {\n          console.error('Invalid patient ID:', PatientID);\n        }\n      } else {\n        console.error('Patient ID is missing in route');\n      }\n    });\n  }\n  getById(PatientID) {\n    this.vs.getById(PatientID).subscribe(data => {\n      // Ensure data is an array\n      if (Array.isArray(data)) {\n        this.visites = data;\n      } else {\n        this.visites = [data]; // Convert to array if single object is returned\n      }\n\n      console.log('Formatted data:', this.visites);\n    }, error => {\n      this.errorMessage = error.message;\n      console.error('Error fetching complication data:', error);\n    });\n  }\n}\nListeVisiteByIDComponent.ɵfac = function ListeVisiteByIDComponent_Factory(t) {\n  return new (t || ListeVisiteByIDComponent)(i0.ɵɵdirectiveInject(i1.VisiteService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nListeVisiteByIDComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListeVisiteByIDComponent,\n  selectors: [[\"app-liste-visite-by-id\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"container\", \"d-flex\", \"justify-content-center\", \"align-items-center\", 2, \"min-height\", \"100vh\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"table-container\", \"table-responsive\"], [1, \"table\", \"table-striped\", \"text-center\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ListeVisiteByIDComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Liste des Utilisateurs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"table\", 4)(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"N\\u00B0 Visite\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"M\\u00E9decin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Date visite\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ListeVisiteByIDComponent_tr_18_Template, 7, 3, \"tr\", 5);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.visites);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\", \"h1[_ngcontent-%COMP%] {\\n        text-align: center;\\n        font-size: 36px;\\n        font-weight: bold;\\n        color: #2c3e50;\\n        margin-bottom: 30px;\\n        font-family: 'Arial', sans-serif;\\n        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n        border-bottom: 3px solid #3498db;\\n        padding-bottom: 10px;\\n        display: inline-block;\\n      }\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","visite_r1","NbVisite","UserId","DateVisite","ListeVisiteByIDComponent","constructor","vs","router","route","visites","errorMessage","ngOnInit","paramMap","subscribe","params","PatientID","get","id","parseInt","isNaN","getById","console","error","data","Array","isArray","log","message","ɵɵdirectiveInject","i1","VisiteService","i2","Router","ActivatedRoute","selectors","decls","vars","consts","template","ListeVisiteByIDComponent_Template","rf","ctx","ɵɵtemplate","ListeVisiteByIDComponent_tr_18_Template","ɵɵproperty"],"sources":["C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\pages\\liste-visite-by-id\\liste-visite-by-id.component.ts","C:\\Users\\elabe\\Desktop\\ThalassemiaFront\\src\\app\\pages\\liste-visite-by-id\\liste-visite-by-id.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Visite } from 'src/app/models/Visite';\r\nimport { VisiteService } from 'src/app/services/visite.service';\r\n\r\n@Component({\r\n  selector: 'app-liste-visite-by-id',\r\n  templateUrl: './liste-visite-by-id.component.html',\r\n  styleUrls: ['./liste-visite-by-id.component.css']\r\n})\r\nexport class ListeVisiteByIDComponent {\r\nvisites: Visite[]=[];\r\nerrorMessage: string = '';\r\n\r\nconstructor(\r\n  private vs: VisiteService,\r\n  private router: Router,\r\n  private route: ActivatedRoute\r\n) {}ngOnInit(): void {\r\n  this.route.paramMap.subscribe(params => {\r\n    const PatientID = params.get('PatientID');\r\n    if (PatientID) {\r\n      const id = parseInt(PatientID, 10);\r\n      if (!isNaN(id)) {\r\n        this.getById(id);\r\n      } else {\r\n        console.error('Invalid patient ID:', PatientID);\r\n      }\r\n    } else {\r\n      console.error('Patient ID is missing in route');\r\n    }\r\n  });\r\n}\r\n\r\nprivate getById(PatientID: number) {\r\n  this.vs.getById(PatientID).subscribe(\r\n    (data: any) => {\r\n      // Ensure data is an array\r\n      if (Array.isArray(data)) {\r\n        this.visites = data;\r\n      } else {\r\n        this.visites = [data]; // Convert to array if single object is returned\r\n      }\r\n      console.log('Formatted data:', this.visites);\r\n    },\r\n    (error: HttpErrorResponse) => {\r\n      this.errorMessage = error.message;\r\n      console.error('Error fetching complication data:', error);\r\n    }\r\n  );\r\n}\r\n}\r\n","\r\n<style>\r\n    h1 {\r\n        text-align: center;\r\n        font-size: 36px;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n        margin-bottom: 30px;\r\n        font-family: 'Arial', sans-serif;\r\n        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r\n        border-bottom: 3px solid #3498db;\r\n        padding-bottom: 10px;\r\n        display: inline-block;\r\n      }\r\n    </style>\r\n    <h1>Liste des Utilisateurs</h1>\r\n    <div class=\"container d-flex justify-content-center align-items-center\" style=\"min-height: 100vh;\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"table-container table-responsive\">\r\n                    <table class=\"table table-striped text-center\">\r\n                        <thead>\r\n                            <tr>\r\n                             \r\n                                <th>N° Visite</th>\r\n                                <th>Médecin</th>\r\n                                <th>Date visite</th>\r\n                              \r\n                                <th>Actions</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let visite of visites\">\r\n                                <td>{{ visite.NbVisite }}</td>\r\n                                <td>{{ visite.UserId }}</td>\r\n                                <td>{{ visite.DateVisite }}</td>\r\n                                \r\n                                \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}